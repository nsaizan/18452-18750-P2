#ifndef FILE_FIR_SEEN
#define FILE_FIR_SEEN

/*
 * This code originates from the website:
 * 	Shawn's DSP Tutorials
 */

#include <stdio.h>
#include <string.h>
#include <math.h>

/* Maximum number of inputs that can be handled in one function call */
#define MAX_INPUT_LEN 80

/* Maximum length of filter than can be handled */
#define MAX_FLT_LEN 63

/* Buffer to hold all of the input samples */
#define BUFFER_LEN      (MAX_FLT_LEN - 1 + MAX_INPUT_LEN)

/* Number of new audio samples per filter call 
 * Must be less than MAX_INPUT_LEN */
#define SAMPLES  80

/* Length of the fir filter 
 * Must be less than MAX_FLT_LEN */
#define FILTER_LEN  63

/* old coefficients from the original implemented of code */
static double fir_old_coeffs[ FILTER_LEN ] =
{
  -0.0448093,  0.0322875,   0.0181163,   0.0087615,   0.0056797,
   0.0086685,  0.0148049,   0.0187190,   0.0151019,   0.0027594,
  -0.0132676, -0.0232561,  -0.0187804,   0.0006382,   0.0250536,
   0.0387214,  0.0299817,   0.0002609,  -0.0345546,  -0.0525282,
  -0.0395620,  0.0000246,   0.0440998,   0.0651867,   0.0479110,
   0.0000135, -0.0508558,  -0.0736313,  -0.0529380,  -0.0000709,
   0.0540186,  0.0766746,   0.0540186,  -0.0000709,  -0.0529380,
  -0.0736313, -0.0508558,   0.0000135,   0.0479110,   0.0651867,
   0.0440998,  0.0000246,  -0.0395620,  -0.0525282,  -0.0345546,
   0.0002609,  0.0299817,   0.0387214,   0.0250536,   0.0006382,
  -0.0187804, -0.0232561,  -0.0132676,   0.0027594,   0.0151019,
   0.0187190,  0.0148049,   0.0086685,   0.0056797,   0.0087615,
   0.0181163,  0.0322875,  -0.0448093
};

/* coefficients of the fir filter, 9kHz passband freq */
static double oldoldfir_coeffs[ FILTER_LEN ] = 
{
  -0.000104,  0.000084,  0.000469,  0.000345,  -0.000560,  
  -0.000912,  0.000469,  0.001798,  0.000213,  -0.002727,  
  -0.001731,  0.003241,  0.004174,  -0.002679,  -0.007291,  
  0.000312,  0.010387,  0.004456,  -0.012287,  -0.011866,  
  0.011384,  0.021625,  -0.005690,  -0.032844,  -0.007397,  
  0.044131,  0.032623,  -0.053839,  -0.085766,  0.060412,  
  0.311226,  0.437262,  0.311226,  0.060412,  -0.085766,  
  -0.053839,  0.032623,  0.044131,  -0.007397,  -0.032844,  
  -0.005690,  0.021625,  0.011384,  -0.011866,  -0.012287,  
  0.004456,  0.010387,  0.000312,  -0.007291,  -0.002679,  
  0.004174,  0.003241,  -0.001731,  -0.002727,  0.000213,  
  0.001798,  0.000469,  -0.000912,  -0.000560,  0.000345,  
  0.000469,  0.000084,  -0.000104
};

static double fir_coeffs[ FILTER_LEN ] =
{
	-0.000004,  0.000160,  0.000350,  0.000600,  0.000799,  0.000799,  0.000452,  -0.000322,  -0.001452,  -0.002670,  -0.003531,  -0.003512,  -0.002197,  0.000513,  0.004226,  0.008014,  0.010552,  0.010457,  0.006752,  -0.000646,  -0.010605,  -0.020735,  -0.027742,  -0.028115,  -0.019043,  0.000708,  0.030177,  0.066092,  0.103323,  0.135856,  0.158061,  0.165944,  0.158061,  0.135856,  0.103323,  0.066092,  0.030177,  0.000708,  -0.019043,  -0.028115,  -0.027742,  -0.020735,  -0.010605,  -0.000646,  0.006752,  0.010457,  0.010552,  0.008014,  0.004226,  0.000513,  -0.002197,  -0.003512,  -0.003531,  -0.002670,  -0.001452,  -0.000322,  0.000452,  0.000799,  0.000799,  0.000600,  0.000350,  0.000160,  -0.000004
};

void firFloatInitA( void );

void firFloatInitB( void );

void firFloatA( double *coeffs, float *input, float *output,
		int length, int filterLength );

void firFloatB( double *coeffs, float *input, float *output,
		int length, int filterLength );

#endif
